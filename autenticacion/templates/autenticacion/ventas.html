{% load static %}
<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <title>Ventas - SIVI</title>

    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>

    <!-- Fuente Inter -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">

    <style>
        body {
  font-family: 'Segoe UI', sans-serif;

  /* FONDO CON IMAGEN */
  background: url("https://www.lacasona-restaurante.com/wp-content/uploads/2019/02/MIRADOR-DE-NOCHE.jpg") no-repeat center center fixed;
  background-size: cover;

  color: white;
  min-height: 100vh;
  padding: 20px;
}

    </style>
</head>

<body class="p-6">

    <div class="max-w-6xl mx-auto bg-white p-8 rounded-2xl shadow-lg">

        <!-- Header -->
        <div class="flex justify-between items-center mb-6">
            <h2 class="text-3xl font-bold text-gray-800 flex items-center gap-2">
                Registro de Ventas
            </h2>

            <a href="{% url 'menu_principal' %}"
                class="bg-red-600 text-white px-4 py-2 rounded-lg shadow hover:bg-red-700 transition">
                ⬅ Volver al menú
            </a>
        </div>

        <!-- Botón Registrar Venta -->
        <div class="text-right mb-6">
            <a href="{% url 'agregar_venta' %}"
                class="bg-indigo-600 text-white px-5 py-2 rounded-lg shadow font-semibold hover:bg-indigo-700 transition">
                Registrar venta
            </a>
        </div>

        <!-- Tabla -->
        <div class="overflow-x-auto">
            <table class="min-w-full bg-white border border-gray-200 rounded-xl shadow">
                <thead class="bg-gray-100">
                    <tr>
                        <th class="px-6 py-3 text-left text-xs font-bold text-gray-600 uppercase tracking-wider">ID</th>
                        <th class="px-6 py-3 text-left text-xs font-bold text-gray-600 uppercase tracking-wider">Producto</th>
                        <th class="px-6 py-3 text-left text-xs font-bold text-gray-600 uppercase tracking-wider">Cantidad</th>
                        <th class="px-6 py-3 text-left text-xs font-bold text-gray-600 uppercase tracking-wider">Precio Unitario</th>
                        <th class="px-6 py-3 text-left text-xs font-bold text-gray-600 uppercase tracking-wider">Subtotal</th>
                        <th class="px-6 py-3 text-left text-xs font-bold text-gray-600 uppercase tracking-wider">Fecha</th>
                    </tr>
                </thead>

                <tbody class="divide-y divide-gray-200">

                    {% for venta in ventas %}
                    <tr class="hover:bg-gray-50 transition">
                        <td class="px-6 py-4 text-gray-900">{{ venta.id }}</td>
                        <td class="px-6 py-4 font-semibold text-gray-800">{{ venta.producto.nombre }}</td>
                        <td class="px-6 py-4 text-gray-700">{{ venta.cantidad }}</td>
                        <td class="px-6 py-4 text-gray-800 font-medium">
                            ${{ venta.precio_unitario|floatformat:2 }}
                        </td>
                        <td class="px-6 py-4 text-green-700 font-bold">
                            ${{ venta.total|floatformat:2 }}
                        </td>
                        <td class="px-6 py-4 text-gray-600">
                            {{ venta.fecha|date:"d/m/Y H:i" }}
                        </td>
                    </tr>
                    {% empty %}
                    <tr>
                        <td colspan="6" class="px-6 py-4 text-center text-gray-500">No hay ventas registradas.</td>
                    </tr>
                    {% endfor %}

                </tbody>
            </table>
        </div>

    </div>
</body>
</html>
